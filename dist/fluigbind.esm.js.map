{"version":3,"file":"fluigbind.esm.js","sources":["../src/binder/constants.js","../src/binder/parsers.js","../src/forms/dataset.js","../src/forms/field.js","../src/forms/section.js","../src/forms/table.js","../src/forms/state.js","../src/binder/fluigbind.js","../src/binder/observer.js","../src/binder/bindings.js","../src/binder/view.js","../src/binder/adapter.js","../src/binder/formatters.js","../src/binder/component.js","../src/extra/fluig/autocomplete.binder.js","../src/extra/fluig/calendar.binder.js","../src/extra/binders.js","../src/extra/fluig/autocomplete.js","../src/extra/fluig/calendar.js","../src/extra/components.js","../src/export.js"],"sourcesContent":["export const OPTIONS = [\n  'prefix',\n  'templateDelimiters',\n  'rootInterface',\n  'preloadData',\n  'handler'\n]\n\nexport const EXTENSIONS = [\n  'binders',\n  'formatters',\n  'adapters'\n]","const PRIMITIVE = 0\nconst KEYPATH = 1\nconst TEXT = 0\nconst BINDING = 1\n\nconst QUOTED_STR = /^'.*'$|^\".*\"$/\n\n// Parser and tokenizer for getting the type and value from a string.\nexport function parseType(string) {\n  let type = PRIMITIVE\n  let value = string\n\n  if (QUOTED_STR.test(string)) {\n    value = string.slice(1, -1)\n  } else if (string === 'true') {\n    value = true\n  } else if (string === 'false') {\n    value = false\n  } else if (string === 'null') {\n    value = null\n  } else if (string === 'undefined') {\n    value = undefined\n  } else if (!isNaN(string)) {\n    value = Number(string)\n  } else {\n    type = KEYPATH\n  }\n\n  return {type: type, value: value}\n}\n\n// Template parser and tokenizer for mustache-style text content bindings.\n// Parses the template and returns a set of tokens, separating static portions\n// of text from binding declarations.\nexport function parseTemplate(template, delimiters) {\n  var tokens\n  let length = template.length\n  let index = 0\n  let lastIndex = 0\n  let open = delimiters[0], close = delimiters[1]\n\n  while (lastIndex < length) {\n    index = template.indexOf(open, lastIndex)\n\n    if (index < 0) {\n      if (tokens) {\n        tokens.push({\n          type: TEXT,\n          value: template.slice(lastIndex)\n        })\n      }\n\n      break\n    } else {\n      tokens || (tokens = [])\n      if (index > 0 && lastIndex < index) {\n        tokens.push({\n          type: TEXT,\n          value: template.slice(lastIndex, index)\n        })\n      }\n\n      lastIndex = index + open.length\n      index = template.indexOf(close, lastIndex)\n\n      if (index < 0) {\n        let substring = template.slice(lastIndex - close.length)\n        let lastToken = tokens[tokens.length - 1]\n\n        if (lastToken && lastToken.type === TEXT) {\n          lastToken.value += substring\n        } else {\n          tokens.push({\n            type: TEXT,\n            value: substring\n          })\n        }\n\n        break\n      }\n\n      let value = template.slice(lastIndex, index).trim()\n\n      tokens.push({\n        type: BINDING,\n        value: value\n      })\n\n      lastIndex = index + close.length\n    }\n  }\n\n  return tokens\n}\n","\nclass Dataset {\n\n  constructor(datasetName) {\n    this.datasetName = datasetName;\n  }\n\n\n  async load() {\n    const datasetName = this.datasetName\n    if (!datasetName) {\n      throw new Error(`No dataset declared for ${this.name}`)\n    }\n\n    const filterFields = [];\n    const constraints = this.constraints\n    if (constraints) {\n      Object.keys(constraints).forEach(field => {\n        const value = constraints[field]\n        filterFields.push(field);\n        filterFields.push(value);\n      })\n    }\n\n    let content = await [];\n\n    return content;\n  }\n\n}\n\nexport default Dataset","\nimport Dataset from \"./dataset\";\n\nclass Field {\n\n  constructor(label, type) {\n    this.label = label;\n    this.type = type;\n  }\n\n  /**\n   * @param {any} data\n   */\n  set data(data) {\n    this._data = data;\n  }\n\n  get data() {\n    return this._data;\n  }\n\n  /**\n   * @param {any} value\n   */\n  set value(value) {\n    this._value = value;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  /**\n   * @param {Boolean} visible\n   */\n  set visible(visible) {\n    this._visible = visible;\n  }\n\n  get visible() {\n    return this._visible;\n  }\n\n  /**\n   * @param {Boolean} mandatory\n   */\n  set mandatory(mandatory) {\n    this._mandatory = mandatory;\n  }\n\n  get mandatory() {\n    return this._mandatory;\n  }\n\n  /**\n   * @param {Dataset} dataset\n   */\n  set dataset(dataset) {\n    this._dataset = dataset;\n  }\n\n  get dataset() {\n    return this._dataset;\n  }\n\n  init() { }\n  load() { }\n  reset() { }\n  change() { }\n  validate() { }\n  destroy() { }\n\n  clone() {\n    const clone = Object.assign( {}, this );\n\n    return Object.setPrototypeOf( clone, Field.prototype );\n  }\n}\n\nexport default Field","class Section {\n\n  constructor(name) {\n    this.name = name;\n  }\n\n  /**\n   * @param {Boolean} visible\n   */\n  set visible(visible) {\n    this._visible = visible;\n  }\n\n  get visible() {\n    return this._visible;\n  }\n\n  /**\n   * @param {String} title\n   */\n  set title(title) {\n    this._title = title;\n  }\n\n  get title() {\n    return this._title;\n  }\n\n  /**\n   * @param {Field[]} fields\n   */\n  set fields(fields) {\n    this._fields = fields;\n  }\n\n  get fields() {\n    return this._fields;\n  }\n\n  init() {}\n  load() {}\n  reset() {}\n  change() {}\n  validate() {}\n  destroy() {}\n\n}\n\nexport default Section;","class Table {\n\n  constructor(tablename) {\n    this.tablename = tablename;\n  }\n\n  /**\n   * @param {Field[]} fields\n   */\n  set fields(fields) {\n    this._fields = fields;\n  }\n\n  get fields() {\n    return this._fields;\n  }\n\n  /**\n   * @param {Object[]} children\n   */\n  set children(children) {\n    this._children = children;\n  }\n\n  get children() {\n    return this._children;\n  }\n\n  init() {}\n  load() {}\n  reset() {}\n  validate() {}\n  add() {\n    // this.children.push({})\n  }\n  remove() {}\n\n}\n\nexport default Table","class State {\n\n  constructor(id, name) {\n    this.id = id;\n    this.name = name;\n  }\n\n  init() {}\n  load() {}\n\n}\n\nexport default State","import { EXTENSIONS } from './constants'\nimport { parseTemplate, parseType } from './parsers'\nimport Field from '../forms/field';\nimport Dataset from '../forms/dataset';\nimport Section from '../forms/section';\nimport Table from '../forms/table';\nimport State from '../forms/state';\n\nconst fluigbind = {\n  State: State,\n  Field: Field,\n  Dataset: Dataset,\n  Section: Section,\n  Table: Table,\n  // Global binders.\n  binders: {},\n\n  // Global formatters.\n  formatters: {},\n\n  // Global sightglass adapters.\n  adapters: {},\n\n  // Default attribute prefix.\n  _prefix: 'flg',\n\n  _fullPrefix: 'flg-',\n\n  defaults: {\n    locale: 'pt-BR',\n    currency: 'BRL'\n  },\n\n  get prefix() {\n    return this._prefix\n  },\n\n  set prefix(value) {\n    this._prefix = value\n    this._fullPrefix = value + '-'\n  },\n\n  parseTemplate: parseTemplate,\n\n  parseType: parseType,\n\n  // Default template delimiters.\n  templateDelimiters: ['{', '}'],\n\n  // Default sightglass root interface.\n  rootInterface: '.',\n\n  // Preload data by default.\n  preloadData: true,\n\n  // Default event handler.\n  handler: function (context, ev, binding) {\n    this.call(context, ev, binding.view.models)\n  },\n\n  // Sets the attribute on the element. If no binder above is matched it will fall\n  // back to using this binder.\n  fallbackBinder: function (el, value) {\n    if (value != null) {\n      el.setAttribute(this.type, value)\n    } else {\n      el.removeAttribute(this.type)\n    }\n  },\n\n  // Merges an object literal into the corresponding global options.\n  configure: function (options) {\n    if (!options) {\n      return\n    }\n    Object.keys(options).forEach(option => {\n      let value = options[option]\n\n      if (EXTENSIONS.indexOf(option) > -1) {\n        Object.keys(value).forEach(key => {\n          this[option][key] = value[key]\n        })\n      } else {\n        this[option] = value\n      }\n    })\n  }\n}\n\nexport default fluigbind\n","\n// Check if a value is an object than can be observed.\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null\n}\n\n// Error thrower.\nfunction error(message) {\n  throw new Error(`[Observer] ${message}`)\n}\n\nlet adapters;\nlet interfaces;\nlet rootInterface;\n\n// Constructs a new keypath observer and kicks things off.\nclass Observer {\n  static updateOptions (options) {\n    adapters = options.adapters\n    interfaces = Object.keys(adapters)\n    rootInterface = options.rootInterface\n  }\n  \n  // Tokenizes the provided keypath string into interface + path tokens for the\n  // observer to work with.\n  static tokenize (keypath, root) {\n    const tokens = [];\n    let current = {i: root, path: ''};\n    let index;\n    let chr;\n  \n    for (index = 0; index < keypath.length; index++) {\n      chr = keypath.charAt(index)\n  \n      if (!!~interfaces.indexOf(chr)) {\n        tokens.push(current)\n        current = {i: chr, path: ''}\n      } else {\n        current.path += chr\n      }\n    }\n  \n    tokens.push(current)\n    return tokens\n  }\n\n  constructor(obj, keypath, callback) {\n    this.keypath = keypath\n    this.callback = callback\n    this.objectPath = []\n    this.parse()\n    this.obj = this.getRootObject(obj)\n\n    if (isObject(this.target = this.realize())) {\n      this.set(true, this.key, this.target, this.callback)\n    }\n  }\n\n  // Parses the keypath using the interfaces defined on the view. Sets variables\n  // for the tokenized keypath as well as the end key.\n  parse() {\n    let path;\n    let root;\n\n    if (!interfaces.length) {\n      error('Must define at least one adapter interface.')\n    }\n\n    if (!!~interfaces.indexOf(this.keypath[0])) {\n      root = this.keypath[0]\n      path = this.keypath.substr(1)\n    } else {\n      root = rootInterface\n      path = this.keypath\n    }\n\n    this.tokens = Observer.tokenize(path, root)\n    this.key = this.tokens.pop()\n  }\n\n  // Realizes the full keypath, attaching observers for every key and correcting\n  // old observers to any changed objects in the keypath.\n  realize() {\n    let current = this.obj;\n    let unreached = -1;\n    let prev;\n    let token;\n\n    for (let index = 0; index < this.tokens.length; index++) {\n      token = this.tokens[index]\n      if (isObject(current)) {\n        if (typeof this.objectPath[index] !== 'undefined') {\n          if (current !== (prev = this.objectPath[index])) {\n            this.set(false, token, prev, this)\n            this.set(true, token, current, this)\n            this.objectPath[index] = current\n          }\n        } else {\n          this.set(true, token, current, this)\n          this.objectPath[index] = current\n        }\n\n        current = this.get(token, current)\n      } else {\n        if (unreached === -1) {\n          unreached = index\n        }\n\n        if (prev = this.objectPath[index]) {\n          this.set(false, token, prev, this)\n        }\n      }\n    }\n\n    if (unreached !== -1) {\n      this.objectPath.splice(unreached)\n    }\n\n    return current\n  }\n\n  // Updates the keypath. This is called when any intermediary key is changed.\n  sync() {\n    let next;\n    let oldValue;\n    let newValue;\n\n    if ((next = this.realize()) !== this.target) {\n      if (isObject(this.target)) {\n        this.set(false, this.key, this.target, this.callback)\n      }\n\n      if (isObject(next)) {\n        this.set(true, this.key, next, this.callback)\n      }\n\n      oldValue = this.value()\n      this.target = next\n      newValue = this.value()\n      if (newValue !== oldValue || newValue instanceof Function) this.callback.sync()\n    } else if (next instanceof Array) {\n      this.callback.sync()\n    }\n  }\n\n  // Reads the current end value of the observed keypath. Returns undefined if\n  // the full keypath is unreachable.\n  value() {\n    if (isObject(this.target)) {\n      return this.get(this.key, this.target)\n    }\n  }\n\n  // Sets the current end value of the observed keypath. Calling setValue when\n  // the full keypath is unreachable is a no-op.\n  setValue(value) {\n    if (isObject(this.target)) {\n      adapters[this.key.i].set(this.target, this.key.path, value)\n    }\n  }\n\n  // Gets the provided key on an object.\n  get(key, obj) {\n    return adapters[key.i].get(obj, key.path);\n  }\n\n  // Observes or unobserves a callback on the object using the provided key.\n  set(active, key, obj, callback) {\n    const action = active ? 'observe' : 'unobserve';\n    adapters[key.i][action](obj, key.path, callback)\n  }\n\n  // Unobserves the entire keypath.\n  unobserve() {\n    let obj;\n    let token;\n\n    for (let index = 0; index < this.tokens.length; index++) {\n      token = this.tokens[index]\n      if (obj = this.objectPath[index]) {\n        this.set(false, token, obj, this)\n      }\n    }\n\n    if (isObject(this.target)) {\n      this.set(false, this.key, this.target, this.callback)\n    }\n  }\n\n  // traverse the scope chain to find the scope which has the root property\n  // if the property is not found in chain, returns the root scope\n  getRootObject(obj) {\n    let rootProp;\n    let current;\n    if (!obj.$parent) {\n      return obj;\n    }\n\n    if (this.tokens.length) {\n      rootProp = this.tokens[0].path\n    } else {\n      rootProp = this.key.path\n    }\n\n    current = obj;\n    while (current.$parent && (current[rootProp] === undefined)) {\n      current = current.$parent\n    }\n\n    return current;\n  }\n}\n\nexport default Observer\n","import {parseType} from './parsers'\nimport Observer from './observer'\n\nfunction getInputValue(el) {  \n  if (el.type === 'checkbox') {\n    return el.checked\n  } else if (el.type === 'select-multiple') {\n    const results = []\n    let option\n    for (let i = 0; i < el.options.length; i++) {\n      option = el.options[i]\n      if (option.selected) {\n        results.push(option.value);\n      }\n    }\n    return results\n  } else {\n    return el.value\n  }\n}\n\nconst FORMATTER_ARGS =  /[^\\s']+|'([^']|'[^\\s])*'|\"([^\"]|\"[^\\s])*\"/g\nconst FORMATTER_SPLIT = /\\s+/\n\n// A single binding between a model attribute and a DOM element.\nexport class Binding {\n  // All information about the binding is passed into the constructor; the\n  // containing view, the DOM node, the type of binding, the model object and the\n  // keypath at which to listen for changes.\n  constructor(view, el, type, keypath, binder, arg, formatters) {\n    this.view = view\n    this.el = el\n    this.type = type\n    this.keypath = keypath\n    this.binder = binder\n    this.arg = arg\n    this.formatters = formatters\n    this.formatterObservers = {}\n    this.model = undefined\n  }\n\n  // Observes the object keypath\n  observe(obj, keypath) {\n    return new Observer(obj, keypath, this)\n  }\n\n  parseTarget() {\n    if (this.keypath) {\n      let token = parseType(this.keypath)\n\n      if (token.type === 0) {\n        this.value = token.value\n      } else {\n        this.observer = this.observe(this.view.models, this.keypath)\n        this.model = this.observer.target\n      }\n    } else {\n      this.value = undefined;\n    }\n  }\n\n  parseFormatterArguments(args, formatterIndex) {\n    return args\n      .map(parseType)\n      .map(({type, value}, ai) => {\n        if (type === 0) {\n          return value\n        } else {\n          if (!this.formatterObservers[formatterIndex]) {\n            this.formatterObservers[formatterIndex] = {}\n          }\n\n          let observer = this.formatterObservers[formatterIndex][ai]\n\n          if (!observer) {\n            observer = this.observe(this.view.models, value)\n            this.formatterObservers[formatterIndex][ai] = observer\n          }\n\n          return observer.value()\n        }\n      })\n  }\n\n  // Applies all the current formatters to the supplied value and returns the\n  // formatted value.\n  formattedValue(value) {\n    return this.formatters.reduce((result, declaration, index) => {\n      let args = declaration.match(FORMATTER_ARGS)\n      let id = args.shift()\n      let formatter = this.view.options.formatters[id]\n\n      const processedArgs = this.parseFormatterArguments(args, index)\n\n      if (formatter && (formatter.read instanceof Function)) {\n        result = formatter.read(result, ...processedArgs)\n      } else if (formatter instanceof Function) {\n        result = formatter(result, ...processedArgs)\n      }\n      return result\n    }, value)\n  }\n\n  // Returns an event handler for the binding around the supplied function.\n  eventHandler(fn) {\n    let binding = this\n    let handler = binding.view.options.handler\n\n    return function(ev) {\n      handler.call(fn, this, ev, binding)\n    }\n  }\n\n  // Sets the value for the binding. This Basically just runs the binding routine\n  // with the supplied value formatted.\n  set(value) {\n    if ((value instanceof Function) && !this.binder.function) {\n      value = this.formattedValue(value.call(this.model))\n    } else {\n      value = this.formattedValue(value)\n    }\n\n    let routineFn = this.binder.routine || this.binder\n\n    if (routineFn instanceof Function) {\n      routineFn.call(this, this.el, value)\n    }\n  }\n\n  // Syncs up the view binding with the model.\n  sync() {\n    if (this.observer) {\n      this.model = this.observer.target\n      this.set(this.observer.value())\n    } else {\n      this.set(this.value)\n    }\n  }\n\n  // Publishes the value currently set on the input element back to the model.\n  publish() {\n    if (this.observer) {\n      var value = this.formatters.reduceRight((result, declaration, index) => {\n        const args = declaration.split(FORMATTER_SPLIT)\n        const id = args.shift()\n        const formatter = this.view.options.formatters[id]\n        const processedArgs = this.parseFormatterArguments(args, index)\n\n        if (formatter && formatter.publish) {\n          result = formatter.publish(result, ...processedArgs)\n        }\n        return result\n      }, this.getValue(this.el))\n\n      this.observer.setValue(value)\n    }\n  }\n\n  // Subscribes to the model for changes at the specified keypath. Bi-directional\n  // routines will also listen for changes on the element to propagate them back\n  // to the model.\n  bind() {\n    this.parseTarget()\n\n    if (this.binder.hasOwnProperty('bind')) {\n      this.binder.bind.call(this, this.el)\n    }\n\n    if (this.view.options.preloadData) {\n      this.sync()\n    }\n  }\n\n  // Unsubscribes from the model and the element.\n  unbind() {\n    if (this.binder.unbind) {\n      this.binder.unbind.call(this, this.el)\n    }\n\n    if (this.observer) {\n      this.observer.unobserve()\n    }\n\n    Object.keys(this.formatterObservers).forEach(fi => {\n      let args = this.formatterObservers[fi]\n\n      Object.keys(args).forEach(ai => {\n        args[ai].unobserve()\n      })\n    })\n\n    this.formatterObservers = {}\n  }\n\n  // Updates the binding's model from what is currently set on the view. Unbinds\n  // the old model first and then re-binds with the new model.\n  update(models = {}) {\n    if (this.observer) {\n      this.model = this.observer.target\n    }\n\n    if (this.binder.update) {\n      this.binder.update.call(this, models)\n    }\n  }\n\n  // Returns elements value\n  getValue(el) {\n    if (this.binder && this.binder.getValue) {\n      return this.binder.getValue.call(this, el)\n    } else {\n      return getInputValue(el)\n    }\n  }\n}\n","import fluigbind from './fluigbind'\nimport {Binding} from './bindings'\nimport {parseTemplate} from './parsers'\n\nconst textBinder = {\n  routine: (node, value) => {\n    node.data = (value != null) ? value : ''\n  }\n}\n\nconst DECLARATION_SPLIT = /((?:'[^']*')*(?:(?:[^\\|']*(?:'[^']*')+[^\\|']*)+|[^\\|]+))|^$/g\n\nconst parseNode = (view, node) => {\n  let block = false\n\n  if (node.nodeType === 3) {\n    let tokens = parseTemplate(node.data, fluigbind.templateDelimiters)\n\n    if (tokens) {\n      for (let i = 0; i < tokens.length; i++) {\n        let token = tokens[i]\n        let text = document.createTextNode(token.value)\n        node.parentNode.insertBefore(text, node)\n\n        if (token.type === 1) {\n          view.buildBinding(text, null, token.value, textBinder, null)\n        }\n      }\n\n      node.parentNode.removeChild(node)\n    }\n    block = true\n  } else if (node.nodeType === 1) {\n    block = view.traverse(node)\n  }\n\n  if (!block) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n      parseNode(view, node.childNodes[i]);\n    }\n  }\n}\n\nconst bindingComparator = (a, b) => {\n  let aPriority = a.binder ? (a.binder.priority || 0) : 0\n  let bPriority = b.binder ? (b.binder.priority || 0) : 0\n  return bPriority - aPriority\n}\n\nconst trimStr = (str) => {\n  return str.trim()\n}\n\n// A collection of bindings built from a set of parent nodes.\nexport default class View {\n  // The DOM elements and the model objects for binding are passed into the\n  // constructor along with any local options that should be used throughout the\n  // context of the view and it's bindings.\n  constructor(els, models, options) {\n    if (els.jquery || els instanceof Array) {\n      this.els = els\n    } else {\n      this.els = [els]\n    }\n\n    this.models = models\n    this.options = options\n\n    this.build()\n  }\n\n\n  buildBinding(node, type, declaration, binder, arg) {\n    let pipes = declaration.match(DECLARATION_SPLIT).map(trimStr)\n\n    let keypath = pipes.shift()\n\n    this.bindings.push(new Binding(this, node, type, keypath, binder, arg, pipes))\n  }\n\n  // Parses the DOM tree and builds `Binding` instances for every matched\n  // binding declaration.\n  build() {\n    this.bindings = []\n\n    let elements = this.els, i, len;\n    for (i = 0, len = elements.length; i < len; i++) {\n      parseNode(this, elements[i])\n    }\n\n    this.bindings.sort(bindingComparator)\n  }\n\n  traverse(node) {\n    let bindingPrefix = fluigbind._fullPrefix\n    let block = node.nodeName === 'SCRIPT' || node.nodeName === 'STYLE'\n    let attributes = node.attributes\n    let bindInfos = []\n    let starBinders = this.options.starBinders\n    var type, binder, identifier, arg\n\n\n    for (let i = 0, len = attributes.length; i < len; i++) {\n      let attribute = attributes[i]\n      if (attribute.name.indexOf(bindingPrefix) === 0) {\n        type = attribute.name.slice(bindingPrefix.length)\n        binder = this.options.binders[type]\n        arg = undefined\n\n        if (!binder) {\n          for (let k = 0; k < starBinders.length; k++) {\n            identifier = starBinders[k]\n            if (type.slice(0, identifier.length - 1) === identifier.slice(0, -1)) {\n              binder = this.options.binders[identifier]\n              arg = type.slice(identifier.length - 1)\n              break\n            }\n          }\n        }\n\n        if (!binder) {\n          binder = fluigbind.fallbackBinder\n        }\n\n        if (binder.block) {\n          this.buildBinding(node, type, attribute.value, binder, arg)\n          node.removeAttribute(attribute.name)\n          return true;\n        }\n\n        bindInfos.push({attr: attribute, binder: binder, type: type, arg: arg})\n      }\n    }\n\n    for (let i = 0; i < bindInfos.length; i++) {\n      let bindInfo = bindInfos[i]\n      this.buildBinding(node, bindInfo.type, bindInfo.attr.value, bindInfo.binder, bindInfo.arg)\n      node.removeAttribute(bindInfo.attr.name)\n    }\n\n    return block\n  }\n\n  // Binds all of the current bindings for this view.\n  bind() {\n    this.bindings.forEach(binding => {\n      binding.bind()\n    })\n  }\n\n  // Unbinds all of the current bindings for this view.\n  unbind() {\n    this.bindings.forEach(binding => {\n      binding.unbind()\n    })\n  }\n\n  // Syncs up the view with the model by running the routines on all bindings.\n  sync() {\n    this.bindings.forEach(binding => {\n      binding.sync()\n    })\n  }\n\n  // Publishes the input values from the view back to the model (reverse sync).\n  publish() {\n    this.bindings.forEach(binding => {\n      if (binding.binder && binding.binder.publishes) {\n        binding.publish()\n      }\n    })\n  }\n\n  // Updates the view's models along with any affected bindings.\n  update(models = {}) {\n    Object.keys(models).forEach(key => {\n      this.models[key] = models[key]\n    })\n\n    this.bindings.forEach(binding => {\n      if (binding.update) {\n        binding.update(models)\n      }\n    })\n  }\n}\n","/**\n * The default `.` adapter that comes with fluigbind.js. \n * Allows subscribing to properties on plain objects, implemented in \n * ES5 natives using `Object.defineProperty`.\n *\n * @summary The default `.` adapter that comes with fluigbind.js\n * @author Alexson Ferreira\n *\n * Created at     : 2023-03-09 09:22:27 \n * Last modified  : 2023-03-10 09:27:15\n */\n\nconst ARRAY_METHODS = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'sort',\n  'reverse',\n  'splice'\n]\n\nconst adapter = {\n  counter: 0,\n  weakmap: {},\n\n  weakReference: function (obj) {\n    if (!obj.hasOwnProperty('__flg')) {\n      let id = this.counter++\n\n      Object.defineProperty(obj, '__flg', {\n        value: id\n      })\n    }\n\n    if (!this.weakmap[obj.__flg]) {\n      this.weakmap[obj.__flg] = {\n        callbacks: {}\n      }\n    }\n\n    return this.weakmap[obj.__flg]\n  },\n\n  cleanupWeakReference: function(data, refId) {\n    if (!Object.keys(data.callbacks).length) {\n      if (!(data.pointers && Object.keys(data.pointers).length)) {\n        delete this.weakmap[refId]\n      }\n    }\n  },\n\n  stubFunction: function(obj, fn) {\n    const original = obj[fn]\n    const data = this.weakReference(obj)\n    const weakmap = this.weakmap\n\n    obj[fn] = (...args) => {\n      let response = original.apply(obj, args)\n\n      Object.keys(data.pointers).forEach(refId => {\n        let k = data.pointers[refId]\n\n        if (weakmap[refId]) {\n          if (weakmap[refId].callbacks[k] instanceof Array) {\n            weakmap[refId].callbacks[k].forEach(callback => {\n              callback.sync()\n            })\n          }\n        }\n      })\n\n      return response\n    }\n  },\n\n  observeArray: function(value, refId, keypath) {\n    if (value instanceof Array) {\n      let data = this.weakReference(value)\n\n      if (!data.pointers) {\n        data.pointers = {}\n\n        ARRAY_METHODS.forEach(fn => {\n          this.stubFunction(value, fn)\n        })\n      }\n\n      if (!data.pointers[refId]) {\n        data.pointers[refId] = []\n      }\n\n      if (data.pointers[refId].indexOf(keypath) === -1) {\n        data.pointers[refId].push(keypath)\n      }\n    }\n  },\n\n  unobserveArray: function (value, refId, keypath) {\n    if ((value instanceof Array) && (value.__flg != null)) {\n      let data = this.weakmap[value.__flg]\n\n      if (data) {\n        let pointers = data.pointers[refId]\n\n        if (pointers) {\n          let idx = pointers.indexOf(keypath)\n\n          if (idx > -1) {\n            pointers.splice(idx, 1)\n          }\n\n          if (!pointers.length) {\n            delete data.pointers[refId]\n          }\n\n          this.cleanupWeakReference(data, value.__flg)\n        }\n      }\n    }\n  },\n\n  observe: function(obj, keypath, callback) {\n    let value    \n    const callbacks = this.weakReference(obj).callbacks\n\n    if (!callbacks[keypath]) {\n      callbacks[keypath] = []\n      let desc = Object.getOwnPropertyDescriptor(obj, keypath)\n\n      if (!desc || !(desc.get || desc.set || !desc.configurable)) {\n        value = obj[keypath]\n\n        Object.defineProperty(obj, keypath, {\n          enumerable: true,\n\n          get: () => {\n            return value\n          },\n\n          set: newValue => {\n            if (newValue !== value) {\n              this.unobserveArray(value, obj.__flg, keypath)\n              value = newValue\n              const data = this.weakmap[obj.__flg]\n\n              if (data) {\n                let callbacks = data.callbacks[keypath]\n\n                if (callbacks) {\n                  callbacks.forEach(cb => {\n                      cb.sync()\n                  })\n                }\n\n                this.observeArray(newValue, obj.__flg, keypath)\n              }\n            }\n          }\n        })\n      }\n    }\n\n    if (callbacks[keypath].indexOf(callback) === -1) {\n      callbacks[keypath].push(callback)\n    }\n\n    this.observeArray(obj[keypath], obj.__rv, keypath)\n  },\n\n  unobserve: function(obj, keypath, callback) {\n    let data = this.weakmap[obj.__rv]\n\n    if (data) {\n      let callbacks = data.callbacks[keypath]\n\n      if (callbacks) {\n        let idx = callbacks.indexOf(callback)\n\n        if (idx > -1) {\n          callbacks.splice(idx, 1)\n\n          if (!callbacks.length) {\n            delete data.callbacks[keypath]\n            this.unobserveArray(obj[keypath], obj.__flg, keypath)\n          }\n        }\n\n        this.cleanupWeakReference(data, obj.__flg)\n      }\n    }\n  },\n\n  get: function(obj, keypath) {\n    return obj[keypath]\n  },\n\n  set: (obj, keypath, value) => {\n    obj[keypath] = value\n  }\n}\n\nexport default adapter\n","import fluigbind from './fluigbind'\n\nconst formatters = {\n  watch: function(value) {\n    return value;\n  },\n\n  not: function(value) {\n    return !value;\n  },\n\n  json: function(value) {\n    return JSON.stringify(value)\n  },\n\n  number: {\n    read: function (value, style, locale, currency) {\n      \n      style = style || 'decimal';\n      // \"decimal\" for plain number formatting.\n      // \"currency\" for currency formatting.\n      // \"percent\" for percent formatting.\n      // \"unit\" for unit formatting.\n\n      locale = locale || fluigbind.defaults.locale;\n      currency = currency || fluigbind.defaults.currency;\n\n      return new Intl.NumberFormat(locale, { style, currency }).format(value)\n    },\n    publish: function (value) {\n\n      const exp = /^\\w{0,3}\\W?\\s?(\\d+)[.,](\\d+)?,?(\\d+)?$/g\n      const replacer = (f, group1, group2, group3) => {\n        return group3 ? `${group1}${group2}.${group3}` : `${group1}.${group2}`\n      }\n      return parseFloat(value.replace(exp, replacer))\n    }\n  }\n}\n\nexport default formatters","\nimport fluigbind from './fluigbind'\n\nclass Component extends HTMLElement {\n  static get observedAttributes() {\n    const template = this.template\n    if (!template) {\n      throw new Error(`No template declared for ${this.name}`)\n    }\n\n    this.__templateEl = document.createElement('template')\n    this.__templateEl.innerHTML = template\n    \n    const propAttributeMap = this.__propAttributeMap = {}\n    const attributes = []\n    const properties = this.properties\n    if (properties) {\n      Object.keys(properties).forEach(propName => {\n        const propConfig = properties[propName]\n        const attrName = typeof propConfig === 'string' ? propConfig : propName\n        propAttributeMap[attrName] = propName\n        attributes.push(attrName)\n      })\n    }    \n    return attributes\n  }\n\n  connectedCallback() {\n    const nodes = this.constructor.__templateEl.content.cloneNode(true)\n    this.__fluigbindView = fluigbind.bind(nodes, this)    \n    while (this.firstChild) {\n      this.removeChild(this.firstChild);\n    }\n    this.appendChild(nodes)\n  }\n\n  disconnectedCallback() {\n    this.__fluigbindView.unbind()    \n  }\n\n  attributeChangedCallback(name, old, value) {\n    if (old !== value) {      \n      const propName = this.constructor.__propAttributeMap[name]\n      this[propName] = value\n    }\n  }  \n}\n\nexport default Component","\n\nconst AutocompleteBinder = {\n  publishes: true,\n  bind: function (el) {\n    let self = this;\n    let data = this.model.data;\n\n    this.callback = (e) => {\n      self.publish()\n      el.dispatchEvent(new Event(\"change\"))\n    }\n\n    this.model.autocomplete = FLUIGC.autocomplete(el, {\n      source: substringMatcher(this.model),\n      maxTags: 1,\n      templates: {\n        tag: data.tplSelected || '',\n        suggestion: data.tplList || '',\n        tip: data.tplTip || '',\n      },\n      minLength: 0,\n      displayKey: data.displaykey,\n      tagClass: data.tagClass || 'col-xs-12',\n      type: 'tagAutocomplete',\n      tagMaxWidth: 800\n    });\n\n    if (this.model.value) {\n      this.model.autocomplete.add(this.model.value);\n    }\n\n    this.model.autocomplete.on('fluig.autocomplete.itemAdded', this.callback);\n    this.model.autocomplete.on('fluig.autocomplete.itemRemoved', this.callback);\n  },\n  routine: function (el, value) {\n    let oldValue = this.model.autocomplete.items()[0];\n    if (value != oldValue) {\n      if (oldValue) {\n        if (value) {\n          this.model.autocomplete.removeAll();\n        } else {\n          try {\n            this.model.autocomplete.input()[0].parentNode.previousElementSibling.children[0].children[0].style.color = \"white\"\n          } catch (err) { }\n        }\n      }\n      if (value) {\n        this.model.autocomplete.add(value)\n      } else { }\n    }\n  },\n  getValue: function (el) {\n    return this.model.autocomplete.items()[0];\n  }\n}\n\nconst substringMatcher = (model) => (q, cb) => {\n  let adapter = fluigbind.adapters['.'];\n  let name = model.displaykey;\n  let items = adapter.get(model, 'items');\n\n  var matches, substrRegex;\n\n  matches = [];\n\n  substrRegex = new RegExp(q, 'i');\n  items.forEach(str => {\n    if (substrRegex.test(str[name])) {\n      matches.push(str);\n    }\n  })\n\n  // $.each(items, function (i, str) {\n  //   if (substrRegex.test(str[name])) {\n  //     matches.push(str);\n  //   }\n  // });\n  cb(matches);\n}\n\nexport default AutocompleteBinder;","const CalendarBinder = {\n  bind: function (el) {\n    this.changeDate = e => {\n      if (Date.parse(this.model.value) !== this.model.calendar.getTimestampDate()) {\n        this.model.value = this.model.calendar.getDate().format('YYYY-MM-DD HH:MM:SS.s');\n        el.dispatchEvent(new Event(\"change\"))\n      }\n    };\n\n    this.model.calendar = FLUIGC.calendar(el);\n    el.addEventListener('focusout', this.changeDate);\n  },\n  unbind: function (el) {\n    el.removeEventListener('focusout', this.changeDate);\n  },\n  routine: function (el, value) {\n    if (value) {\n      let date = Date.parse(value);\n      this.model.calendar.setDate(new Date(date));\n    }\n  }\n};\n\nexport default CalendarBinder;","import AutocompleteBinder from \"./fluig/autocomplete.binder\"\nimport CalendarBinder from \"./fluig/calendar.binder\";\n\nimport View from \"../binder/view\";\n\nconst getString = (value) => {\n  return value != null ? value.toString() : undefined\n}\n\nconst times = (n, cb) => {\n  for (let i = 0; i < n; i++) cb()\n}\n\nfunction createView(binding, data, anchorEl) {\n  let template = binding.el.cloneNode(true)\n  let view = new View(template, data, binding.view.options)\n  view.bind()\n  binding.marker.parentNode.insertBefore(template, anchorEl)\n  return view\n}\n\nconst binders = {\n  autocomplete: AutocompleteBinder,\n  calendar: CalendarBinder,\n\n  child: (el, index) => {\n    let name = el.name;\n    if (name.indexOf('___') > 0) {\n      name = name.split('___')[0];\n    }\n    el.name = `${name}___${index + 1}`\n  },\n\n  'on-*': {\n    function: true,\n    priority: 1000,\n\n    unbind: function(el) {\n      if (this.handler) {\n        el.removeEventListener(this.arg, this.handler)\n      }\n    },\n\n    routine: function(el, value) {\n      if (this.handler) {\n        el.removeEventListener(this.arg, this.handler)\n      }\n\n      this.handler = this.eventHandler(value)\n      el.addEventListener(this.arg, this.handler)\n    }\n  },\n\n  // Appends bound instances of the element in place for each item in the array.\n  'each-*': {\n    block: true,\n\n    priority: 4000,\n\n    bind: function(el) {\n      if (!this.marker) {\n        this.marker = document.createComment(` fluigbind: ${this.type} `)\n        this.iterated = []\n\n        el.parentNode.insertBefore(this.marker, el)\n        el.parentNode.removeChild(el)\n      } else {\n        this.iterated.forEach(view => {\n          view.bind()\n        })\n      }\n    },\n\n    unbind: function(el) {\n      if (this.iterated) {\n        this.iterated.forEach(view => {\n          view.unbind()\n        })\n      }\n    },\n\n    routine: function(el, collection) {\n      let modelName = this.arg\n      collection = collection || []\n      let indexProp = el.getAttribute('index-property') || '$index'\n\n      collection.forEach((model, index) => {\n        let data = {$parent: this.view.models}\n        data[indexProp] = index\n        data[modelName] = model\n        let view = this.iterated[index]\n\n        if (!view) {\n\n          let previous = this.marker\n\n          if (this.iterated.length) {\n            previous = this.iterated[this.iterated.length - 1].els[0]\n          }\n\n          view = createView(this, data, previous.nextSibling)\n          this.iterated.push(view)\n        } else {\n          if (view.models[modelName] !== model) {\n            // search for a view that matches the model\n            let matchIndex, nextView\n            for (let nextIndex = index + 1; nextIndex < this.iterated.length; nextIndex++) {\n              nextView = this.iterated[nextIndex]\n              if (nextView.models[modelName] === model) {\n                matchIndex = nextIndex\n                break\n              }\n            }\n            if (matchIndex !== undefined) {\n              // model is in other position\n              // todo: consider avoiding the splice here by setting a flag\n              // profile performance before implementing such change\n              this.iterated.splice(matchIndex, 1)\n              this.marker.parentNode.insertBefore(nextView.els[0], view.els[0])\n              nextView.models[indexProp] = index\n            } else {\n              //new model\n              nextView = createView(this, data, view.els[0])\n            }\n            this.iterated.splice(index, 0, nextView)\n          } else {\n            view.models[indexProp] = index\n          }\n        }\n      })\n\n      if (this.iterated.length > collection.length) {\n        times(this.iterated.length - collection.length, () => {\n          let view = this.iterated.pop()\n          view.unbind()\n          this.marker.parentNode.removeChild(view.els[0])\n        })\n      }\n\n      if (el.nodeName === 'OPTION') {\n        this.view.bindings.forEach(binding => {\n          if (binding.el === this.marker.parentNode && binding.type === 'value') {\n            binding.sync()\n          }\n        })\n      }\n    },\n\n    update: function(models) {\n      let data = {}\n\n      //todo: add test and fix if necessary\n\n      Object.keys(models).forEach(key => {\n        if (key !== this.arg) {\n          data[key] = models[key]\n        }\n      })\n\n      this.iterated.forEach(view => {\n        view.update(data)\n      })\n    }\n  },\n\n  // Adds or removes the class from the element when value is true or false.\n  'class-*': function(el, value) {\n    let elClass = ` ${el.className} `\n\n    if (!value === (elClass.indexOf(` ${this.arg} `) > -1)) {\n      if (value) {\n        el.className = `${el.className} ${this.arg}`\n      } else {\n        el.className = elClass.replace(` ${this.arg} `, ' ').trim()\n      }\n    }\n  },\n\n  // Sets the element's text value.\n  text: (el, value) => {\n    el.textContent = value != null ? value : ''\n  },\n\n  // Sets the element's HTML content.\n  html: (el, value) => {\n    el.innerHTML = value != null ? value : ''\n  },\n\n  // Shows the element when value is true.\n  show: (el, value) => {\n    el.style.display = value ? '' : 'none'\n  },\n\n  // Hides the element when value is true (negated version of `show` binder).\n  hide: (el, value) => {\n    el.style.display = value ? 'none' : ''\n  },\n\n  // Enables the element when value is true.\n  enabled: (el, value) => {\n    el.disabled = !value\n  },\n\n  // Disables the element when value is true (negated version of `enabled` binder).\n  disabled: (el, value) => {\n    el.disabled = !!value\n  },\n\n  // Checks a checkbox or radio input when the value is true. Also sets the model\n  // property when the input is checked or unchecked (two-way binder).\n  checked: {\n    publishes: true,\n    priority: 2000,\n\n    bind: function(el) {\n      var self = this;\n      if (!this.callback) {\n        this.callback = function () {\n          self.publish();\n        }\n      }\n      el.addEventListener('change', this.callback)\n    },\n\n    unbind: function(el) {\n      el.removeEventListener('change', this.callback)\n    },\n\n    routine: function(el, value) {\n      if (el.type === 'radio') {\n        el.checked = getString(el.value) === getString(value)\n      } else {\n        el.checked = !!value\n      }\n    }\n  },\n\n  // Sets the element's value. Also sets the model property when the input changes\n  // (two-way binder).\n  value: {\n    publishes: true,\n    priority: 3000,\n\n    bind: function(el) {\n      this.isRadio = el.tagName === 'INPUT' && el.type === 'radio';\n      if (!this.isRadio) {\n        this.event = el.getAttribute('event-name') || (el.tagName === 'SELECT' ? 'change' : 'input')\n\n        var self = this;\n        if (!this.callback) {\n          this.callback = function () {\n            self.publish();\n          }\n        }\n\n        el.addEventListener(this.event, this.callback)\n      }\n    },\n\n    unbind: function(el) {\n      if (!this.isRadio) {\n        el.removeEventListener(this.event, this.callback)\n      }\n    },\n\n    routine: function(el, value) {\n      if (this.isRadio) {\n        el.setAttribute('value', value)\n      } else {\n        if (el.type === 'select-multiple') {\n          if (value instanceof Array) {\n            for (let i = 0; i < el.length; i++) {\n              let option = el[i];\n              option.selected = value.indexOf(option.value) > -1\n            }\n          }\n        } else if (getString(value) !== getString(el.value)) {\n          el.value = value != null ? value : ''\n        }\n      }\n    }\n  },\n\n  // Inserts and binds the element and it's child nodes into the DOM when true.\n  if: {\n    block: true,\n    priority: 4000,\n\n    bind: function(el) {\n      if (!this.marker) {\n        this.marker = document.createComment(' fluigbind: ' + this.type + ' ' + this.keypath + ' ');\n        this.attached = false\n\n        el.parentNode.insertBefore(this.marker, el)\n        el.parentNode.removeChild(el)\n      } else if (this.bound === false && this.nested) {\n        this.nested.bind()\n      }\n      this.bound = true\n    },\n\n    unbind: function() {\n      if (this.nested) {\n        this.nested.unbind()\n        this.bound = false\n      }\n    },\n\n    routine: function(el, value) {\n      if (!!value !== this.attached) {\n        if (value) {\n\n          if (!this.nested) {\n            this.nested = new View(el, this.view.models, this.view.options)\n            this.nested.bind()\n          }\n\n          this.marker.parentNode.insertBefore(el, this.marker.nextSibling)\n          this.attached = true\n        } else {\n          el.parentNode.removeChild(el)\n          this.attached = false\n        }\n      }\n    },\n\n    update: function(models) {\n      if (this.nested) {\n        this.nested.update(models)\n      }\n    }\n  }\n}\n\nexport default binders\n","import Component from \"../../binder/component\"\n\nclass FluigAutocomplete extends Component {\n  constructor() {\n    super()\n    var self = this;\n\n    self.model = fields[self.getAttribute('field')]\n  }\n\n  static get template() {\n    return `\n      <div flg-show=\"model.visible\" flg-class-has-error=\"model.errors\" flg-class-has-warning=\"model.warnings\" class=\"form-group\">\n        <label class=\"control-label\">{model.label}</label>\n        <div flg-show=\"model.loading\" class=\"fs-skeleton-loader fs-skeleton-loader-input\"></div>\n        <input flg-autocomplete=\"model.value\" flg-enabled=\"model.editable\" flg-show=\"model.loading | !\" type=\"text\" rv-class=\"model.classes\" flg-on-change=\"model.change\">\n        <p class=\"help-block\" flg-if=\"model.errors\"><i class=\"flaticon flaticon-global-error icon-sm\" aria-hidden=\"true\"></i>{model.errors}</p>\n        <p class=\"help-block\" flg-if=\"model.warnings\"><i class=\"flaticon flaticon-alert icon-sm\" aria-hidden=\"true\"></i>{model.warnings}</p>\n      </div>\n    `\n  }\n\n  static get properties() {\n    return {\n      field: true\n    }\n  }\n}\n\nexport default FluigAutocomplete\n\n// customElements.define('fluig-autocomplete', FluigAutocomplete);","import Component from \"../../binder/component\"\n\nclass FluigCalendar extends Component {\n  constructor() {\n    super()\n    var self = this;\n\n    self.model = fields[self.getAttribute('field')]\n  }\n\n  static get template() {\n    return `\n    <div flg-class-has-error=\"model.errors\" flg-class-has-warning=\"model.warnings\" class=\"form-group fs-text-center\">\n      <label>Início Previsto</label>\n      <input class=\"fs-text-center\" type=\"text\" flg-enabled=\"model.editable\" flg-on-change=\"model.change\" flg-calendar=\"model.value\" />\n      <p class=\"help-block\" flg-if=\"model.errors\">{model.errors}</p>\n      <p class=\"help-block\" flg-if=\"model.warnings\">{model.warnings}</p>\n    </div>\n    `\n  }\n\n  static get properties() {\n    return {\n      field: true\n    }\n  }\n}\n\nexport default FluigCalendar\n\n// customElements.define('fluig-autocomplete', FluigAutocomplete);","import FluigAutocomplete from \"./fluig/autocomplete\";\nimport FluigCalendar from \"./fluig/calendar\";\n\nconst components = {\n  // Binds an event handler on the element.\n  autocomplete: FluigAutocomplete,\n  calendar: FluigCalendar\n}\n\nexport default components","import fluigbind from './binder/fluigbind'\nimport View from './binder/view'\nimport {OPTIONS, EXTENSIONS} from './binder/constants'\nimport adapter from './binder/adapter'\nimport formatters from './binder/formatters'\nimport Observer from './binder/observer'\nimport Component from './binder/component'\n\nimport binders from './extra/binders'\nimport components from './extra/components'\n\n// Returns the public interface.\n\nfluigbind.Component = Component\n\nfluigbind.binders = binders\nfluigbind.formatters = formatters\nfluigbind.adapters['.'] = adapter\nfluigbind.components = components;\n\n// Binds some data to a template / element. Returns a fluigbind.View instance.\nfluigbind.bind = (el, models, options) => {\n  let viewOptions = {}\n  models = models || {}\n  options = options || {}\n\n  EXTENSIONS.forEach(extensionType => {\n    viewOptions[extensionType] = Object.create(null)\n\n    if (options[extensionType]) {\n      Object.keys(options[extensionType]).forEach(key => {\n        viewOptions[extensionType][key] = options[extensionType][key]\n      })\n    }\n\n    Object.keys(fluigbind[extensionType]).forEach(key => {\n      if (!viewOptions[extensionType][key]) {\n        viewOptions[extensionType][key] = fluigbind[extensionType][key]\n      }\n    })\n  })\n\n  OPTIONS.forEach(option => {\n    let value = options[option]\n    viewOptions[option] = value != null ? value : fluigbind[option]\n  })\n\n  viewOptions.starBinders = Object.keys(viewOptions.binders).filter(function (key) {\n    return key.indexOf('*') > 0\n  })\n\n  Observer.updateOptions(viewOptions)\n\n  let view = new View(el, models, viewOptions)\n  view.bind()\n  return view\n}\n\nexport default fluigbind\n"],"names":["OPTIONS","EXTENSIONS","PRIMITIVE","KEYPATH","TEXT","BINDING","QUOTED_STR","parseType","string","type","value","test","slice","undefined","isNaN","Number","parseTemplate","template","delimiters","tokens","length","index","lastIndex","open","close","indexOf","push","substring","lastToken","trim","Dataset","datasetName","_proto","prototype","load","_load","_asyncToGenerator","_regeneratorRuntime","mark","_callee","filterFields","constraints","content","wrap","_callee$","_context","prev","next","Error","name","Object","keys","forEach","field","sent","abrupt","stop","apply","arguments","Field","label","init","reset","change","validate","destroy","clone","assign","setPrototypeOf","_createClass","key","get","_data","set","data","_value","_visible","visible","_mandatory","mandatory","_dataset","dataset","Section","_title","title","_fields","fields","Table","tablename","add","remove","_children","children","State","id","fluigbind","binders","formatters","adapters","_prefix","_fullPrefix","defaults","locale","currency","prefix","templateDelimiters","rootInterface","preloadData","handler","context","ev","binding","call","view","models","fallbackBinder","el","setAttribute","removeAttribute","configure","options","_this","option","isObject","obj","error","message","interfaces","Observer","updateOptions","tokenize","keypath","root","current","i","path","chr","charAt","callback","objectPath","parse","getRootObject","target","realize","substr","pop","unreached","token","splice","sync","oldValue","newValue","Function","Array","setValue","active","action","unobserve","rootProp","$parent","getInputValue","checked","results","selected","FORMATTER_ARGS","FORMATTER_SPLIT","Binding","binder","arg","formatterObservers","model","observe","parseTarget","observer","parseFormatterArguments","args","formatterIndex","map","_ref","ai","formattedValue","_this2","reduce","result","declaration","match","shift","formatter","processedArgs","read","concat","eventHandler","fn","function","routineFn","routine","publish","_this3","reduceRight","split","getValue","bind","hasOwnProperty","unbind","_this4","fi","update","textBinder","node","DECLARATION_SPLIT","parseNode","block","nodeType","text","document","createTextNode","parentNode","insertBefore","buildBinding","removeChild","traverse","childNodes","bindingComparator","a","b","aPriority","priority","bPriority","trimStr","str","View","els","jquery","build","pipes","bindings","elements","len","sort","bindingPrefix","nodeName","attributes","bindInfos","starBinders","identifier","attribute","k","attr","bindInfo","publishes","ARRAY_METHODS","adapter","counter","weakmap","weakReference","defineProperty","__flg","callbacks","cleanupWeakReference","refId","pointers","stubFunction","original","_len","_key","response","observeArray","unobserveArray","idx","desc","getOwnPropertyDescriptor","configurable","enumerable","cb","__rv","watch","not","json","JSON","stringify","number","style","Intl","NumberFormat","format","exp","replacer","f","group1","group2","group3","parseFloat","replace","Component","_HTMLElement","_inheritsLoose","connectedCallback","nodes","constructor","__templateEl","cloneNode","__fluigbindView","firstChild","appendChild","disconnectedCallback","attributeChangedCallback","old","propName","__propAttributeMap","createElement","innerHTML","propAttributeMap","properties","propConfig","attrName","_wrapNativeSuper","HTMLElement","AutocompleteBinder","self","e","dispatchEvent","Event","autocomplete","FLUIGC","source","substringMatcher","maxTags","templates","tag","tplSelected","suggestion","tplList","tip","tplTip","minLength","displayKey","displaykey","tagClass","tagMaxWidth","on","items","removeAll","input","previousElementSibling","color","err","q","matches","substrRegex","RegExp","CalendarBinder","changeDate","Date","calendar","getTimestampDate","getDate","addEventListener","removeEventListener","date","setDate","getString","toString","times","n","createView","anchorEl","marker","child","createComment","iterated","collection","modelName","indexProp","getAttribute","previous","nextSibling","matchIndex","nextView","nextIndex","_class","elClass","className","textContent","html","show","display","hide","enabled","disabled","isRadio","tagName","event","if","attached","bound","nested","FluigAutocomplete","_Component","_assertThisInitialized","FluigCalendar","components","viewOptions","extensionType","create","filter"],"mappings":"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"}